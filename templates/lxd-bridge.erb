#
# /etc/default/lxd-bridge
#
# Generated by Chef for <%= node['fqdn'] %>
# 
# DO NOT MODIFY.  Any changes will be overwritten, and could cause error conditions.
#

<% if @resource[:use_lxd_bridge] -%>
USE_LXD_BRIDGE="<%= @resource[:use_lxd_bridge] %>"
<% end -%>
LXD_BRIDGE="<%= @resource[:network_name] %>"
<% if @resource[:raw_dnsmasq] -%>
LXD_CONFILE="<%= @resource[:raw_dnsmasq] %>"
<% end -%>
<% if @resource[:dns_domain] -%>
LXD_DOMAIN="<%= @resource[:dns_domain] %>"
<% end -%>
<% if @resource[:ipv4_address] -%>
LXD_IPV4_ADDR="<%= @resource[:ipv4_address][%r{(.*)/.*}, 1] %>"
<% if @resource[:ipv4_netmask] -%>
LXD_IPV4_NETMASK="<%= @resource[:ipv4_netmask] %>"
<% end -%>
LXD_IPV4_NETWORK="<%= @resource[:ipv4_address] %>"
<% end -%>
<% if @resource[:ipv4_dhcp_ranges] -%>
LXD_IPV4_DHCP_RANGE="<%= @resource[:ipv4_dhcp_ranges].tr('-', ',') %>"
<% end -%>
<% if @resource[:ipv4_dhcp_max] -%>
LXD_IPV4_DHCP_MAX="<%= @resource[:ipv4_dhcp_max] %>"
<% end -%>
<% if @resource[:ipv4_nat] -%>
LXD_IPV4_NAT="<%= @resource[:ipv4_nat] %>"
<% end -%>
<% if @resource[:ipv6_address] -%>
LXD_IPV6_ADDR="<%= @resource[:ipv6_address][%r{(.*)/.*}, 1] %>"
LXD_IPV6_MASK="<%= @resource[:ipv6_address][%r{.*/(.*)}, 1] %>"
LXD_IPV6_NETWORK="<%= @resource[:ipv6_address] %>"
<% end -%>
<% if @resource[:ipv6_nat] -%>
LXD_IPV6_NAT="<%= @resource[:ipv6_nat] %>"
<% end -%>
